{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bhanu prakash\\\\OneDrive\\\\Desktop\\\\sen\\\\sen\\\\frontend\\\\src\\\\pages\\\\Billing.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './billing.css';\nimport { NavLink } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Billing() {\n  _s();\n  const [data, setData] = useState({\n    name: \"\",\n    quantity: \"\"\n  });\n  const [products, setProducts] = useState([]);\n  let sugg = document.getElementById('suggestions');\n  useEffect(() => {\n    getProducts(data.name);\n  }, [data.name]);\n  const getProducts = async finder => {\n    try {\n      let res = await fetch(`/getproduct/${finder}`);\n      res = await res.json();\n      console.log(res);\n      setProducts(res.response);\n      sugg.classList.remove('hide');\n    } catch (e) {}\n  };\n  const inputHandler = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setData({\n      ...data,\n      [name]: value\n    });\n  };\n  const submitHandler = async e => {\n    e.preventDefault();\n    try {\n      const requestOptions = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data)\n      };\n      let res = await fetch('/setbill', requestOptions);\n      res = await res.json();\n      if (res.success === false) {\n        alert(\"Product Unavailable Or More Quantity Entered than Stock\");\n      } else {\n        alert(\"Billing Done\");\n        setData({\n          name: \"\",\n          quantity: \"\"\n        });\n        setProducts([]);\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submitHandler,\n      children: [\"Product: \", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        value: data.name,\n        required: true,\n        onChange: inputHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"suggestions\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Available Products\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this), products.map(item => {\n          return /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              style: {\n                border: '1px solid black',\n                width: '100%',\n                padding: '.5rem'\n              },\n              onClick: () => {\n                setData({\n                  ...data,\n                  name: item.productName\n                });\n                sugg.classList.add('hide');\n                // console.log(item.productName);\n              },\n              children: item.productName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 28\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 45\n            }, this)]\n          }, void 0, true);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), \"Quantity: \", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"quantity\",\n        value: data.quantity,\n        required: true,\n        onChange: inputHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 110\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 115\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 29\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 34\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      children: /*#__PURE__*/_jsxDEV(NavLink, {\n        to: \"/customerpage\",\n        children: \"Go To Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n}\n_s(Billing, \"aFO1bZ0uoRrvhHtVI89lV6PG9wU=\");\n_c = Billing;\nvar _c;\n$RefreshReg$(_c, \"Billing\");","map":{"version":3,"names":["React","useState","useEffect","NavLink","jsxDEV","_jsxDEV","Fragment","_Fragment","Billing","_s","data","setData","name","quantity","products","setProducts","sugg","document","getElementById","getProducts","finder","res","fetch","json","console","log","response","classList","remove","e","inputHandler","value","target","submitHandler","preventDefault","requestOptions","method","headers","body","JSON","stringify","success","alert","className","children","onSubmit","type","required","onChange","fileName","_jsxFileName","lineNumber","columnNumber","id","map","item","style","border","width","padding","onClick","productName","add","to","_c","$RefreshReg$"],"sources":["C:/Users/bhanu prakash/OneDrive/Desktop/sen/sen/frontend/src/pages/Billing.js"],"sourcesContent":["import React, { useState,useEffect } from 'react';\r\nimport './billing.css';\r\nimport { NavLink } from 'react-router-dom';\r\nexport default function Billing() {\r\n  const [data, setData] = useState({\r\n    name: \"\",\r\n    quantity: \"\"\r\n  });\r\n  const [products,setProducts] = useState([]);\r\n  let sugg = document.getElementById('suggestions');\r\n  useEffect(()=>{\r\n    getProducts(data.name);\r\n  },[data.name]);\r\n  const getProducts = async(finder)=>{\r\n    try{\r\n      let res = await fetch(`/getproduct/${finder}`);\r\n      res = await res.json();\r\n      console.log(res);\r\n      setProducts(res.response);\r\n      sugg.classList.remove('hide');\r\n    }catch(e){\r\n\r\n    }\r\n  }\r\n  const inputHandler = (e) => {\r\n    const { name, value } = e.target;\r\n    setData({\r\n      ...data,\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  const submitHandler = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const requestOptions = {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(data)\r\n      };\r\n      let res = await fetch('/setbill',requestOptions);\r\n      res = await res.json();\r\n      if (res.success === false) {\r\n        alert(\"Product Unavailable Or More Quantity Entered than Stock\");\r\n      } else {\r\n        alert(\"Billing Done\");\r\n        setData({\r\n          name: \"\",\r\n          quantity: \"\"\r\n        });\r\n        setProducts([]);\r\n      }\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"form-container\">\r\n      <form onSubmit={submitHandler}>\r\n        Product: <input type='text' name=\"name\" value={data.name} required onChange={inputHandler}/>\r\n        <div id='suggestions'>\r\n            <h5>Available Products</h5>\r\n              {\r\n                products.map((item)=>{\r\n                  return <><li style={{border:'1px solid black',width:'100%',padding:'.5rem'}} onClick={()=>{\r\n                    setData({\r\n                      ...data,\r\n                      name:item.productName\r\n                    })\r\n                    sugg.classList.add('hide');\r\n                    // console.log(item.productName);\r\n                  }}>{item.productName}</li><br/></>\r\n                })\r\n              }\r\n            </div>\r\n        Quantity: <input type='text' name=\"quantity\" value={data.quantity} required onChange={inputHandler}/><br/><br/>\r\n        <button>Add</button><br/><br/>\r\n      </form>\r\n      <button><NavLink to='/customerpage'>Go To Dashboard</NavLink></button>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}